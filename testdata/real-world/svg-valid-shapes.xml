<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     viewBox="0 0 800 600" width="800" height="600" version="1.1">

  <title>SVG Shapes Stress Test</title>
  <desc>Tests all shape elements, gradients, clipping, masking, markers, patterns, and text.</desc>

  <defs>
    <!-- Linear gradient -->
    <linearGradient id="skyGrad" x1="0%" y1="0%" x2="0%" y2="100%"
                    gradientUnits="userSpaceOnUse" spreadMethod="pad">
      <stop offset="0%" stop-color="#87CEEB" stop-opacity="1"/>
      <stop offset="100%" stop-color="#1E90FF" stop-opacity="0.8" style=""/>
    </linearGradient>

    <!-- Radial gradient -->
    <radialGradient id="sunGrad" cx="50%" cy="50%" r="50%" fx="40%" fy="40%"
                    gradientUnits="objectBoundingBox" spreadMethod="reflect"
                    gradientTransform="rotate(10)">
      <stop offset="0%" stop-color="#FFD700"/>
      <stop offset="100%" stop-color="#FF8C00"/>
    </radialGradient>

    <!-- Clip path -->
    <clipPath id="circleClip" clipPathUnits="userSpaceOnUse">
      <circle cx="400" cy="300" r="250"/>
    </clipPath>

    <!-- Mask -->
    <mask id="fadeMask" maskUnits="objectBoundingBox" maskContentUnits="objectBoundingBox"
          x="0" y="0" width="1" height="1">
      <rect x="0" y="0" width="1" height="1" fill="white" fill-opacity="0.5"/>
    </mask>

    <!-- Marker for arrows -->
    <marker id="arrowEnd" refX="10" refY="5" markerWidth="10" markerHeight="10"
            markerUnits="strokeWidth" orient="auto" viewBox="0 0 10 10"
            preserveAspectRatio="xMidYMid meet">
      <path d="M 0 0 L 10 5 L 0 10 Z" fill="black"/>
    </marker>

    <!-- Pattern -->
    <pattern id="grid" x="0" y="0" width="20" height="20"
             patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse"
             patternTransform="rotate(0)" viewBox="0 0 20 20">
      <rect x="0" y="0" width="20" height="20" fill="white"/>
      <path d="M 20 0 L 0 0 0 20" fill="none" stroke="gray" stroke-width="0.5"/>
    </pattern>

    <!-- Symbol -->
    <symbol id="star" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet">
      <polygon points="50,5 20,95 95,40 5,40 80,95" fill="gold" stroke="black" stroke-width="2"/>
    </symbol>
  </defs>

  <!-- Background with gradient and clip -->
  <g clip-path="url(#circleClip)" opacity="0.9">
    <rect x="0" y="0" width="800" height="600" fill="url(#skyGrad)" stroke="none"/>
  </g>

  <!-- Grid pattern background -->
  <rect x="0" y="0" width="800" height="600" fill="url(#grid)" opacity="0.3"/>

  <!-- Sun circle with radial gradient -->
  <circle cx="650" cy="100" r="60" fill="url(#sunGrad)" stroke="orange" stroke-width="2"
          opacity="0.9" filter="none"/>

  <!-- Mountain shapes as polygons -->
  <g id="mountains" transform="translate(0, 50)">
    <polygon points="0,500 200,200 400,500" fill="#4a7c59" stroke="#2d5035" stroke-width="2"
             fill-rule="nonzero" stroke-linejoin="round"/>
    <polygon points="300,500 500,150 700,500" fill="#3a6b49" stroke="#2d5035" stroke-width="2"/>
    <polygon points="100,500 350,250 600,500" fill="#5a8c69" stroke-opacity="0.5"/>
  </g>

  <!-- House using rects and path -->
  <g id="house" transform="translate(300, 300)">
    <rect x="0" y="50" width="120" height="100" fill="#8B4513" stroke="black" stroke-width="2"
          rx="2" ry="2"/>
    <path d="M -10 50 L 60 0 L 130 50 Z" fill="#A52A2A" stroke="black" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="miter" stroke-miterlimit="4"/>
    <rect x="45" y="100" width="30" height="50" fill="#654321"/>
    <rect x="15" y="70" width="25" height="25" fill="#87CEEB" stroke="black" stroke-width="1"/>
    <rect x="80" y="70" width="25" height="25" fill="#87CEEB" stroke="black"/>
  </g>

  <!-- Polyline for a river -->
  <polyline points="0,500 100,480 200,490 300,475 400,485 500,470 600,480 700,475 800,490"
            fill="none" stroke="#4169E1" stroke-width="8" stroke-linecap="round"
            stroke-linejoin="round" stroke-dasharray="none" stroke-dashoffset="0"
            opacity="0.7"/>

  <!-- Lines with markers -->
  <line x1="50" y1="50" x2="200" y2="50" stroke="black" stroke-width="2"
        marker-end="url(#arrowEnd)"/>
  <line x1="50" y1="70" x2="200" y2="70" stroke="red" stroke-width="1.5"
        marker-start="url(#arrowEnd)" marker-end="url(#arrowEnd)"/>

  <!-- Ellipses for clouds -->
  <g id="clouds" opacity="0.8" mask="url(#fadeMask)">
    <ellipse cx="150" cy="80" rx="80" ry="30" fill="white" stroke="none"/>
    <ellipse cx="200" cy="70" rx="60" ry="25" fill="white"/>
    <ellipse cx="500" cy="60" rx="90" ry="35" fill="white"/>
  </g>

  <!-- Use symbol -->
  <use xlink:href="#star" x="50" y="20" width="30" height="30"/>
  <use xlink:href="#star" x="100" y="15" width="25" height="25"/>

  <!-- Text elements -->
  <text x="400" y="560" font-family="Arial, sans-serif" font-size="24" font-weight="bold"
        font-style="normal" text-anchor="middle" fill="white" stroke="black" stroke-width="0.5"
        dominant-baseline="auto" text-decoration="none">
    SVG Landscape
    <tspan x="400" dy="30" font-size="14" font-weight="normal" fill="lightgray">
      A stress test for the RELAX NG validator
    </tspan>
  </text>

  <!-- Linked SVG group -->
  <a xlink:href="https://example.com" target="_blank">
    <rect x="700" y="550" width="80" height="30" rx="5" ry="5" fill="blue" opacity="0.7"/>
    <text x="740" y="570" font-size="12" fill="white" text-anchor="middle">Info</text>
  </a>

  <!-- Nested groups with transforms -->
  <g id="decorations" transform="translate(600, 200)" visibility="visible" display="inline"
     color="black">
    <g transform="translate(0, 0)">
      <circle cx="0" cy="0" r="5" fill="red"/>
      <circle cx="20" cy="0" r="5" fill="green"/>
      <circle cx="40" cy="0" r="5" fill="blue"/>
    </g>
  </g>

  <!-- Path with complex commands -->
  <path d="M 10 500 C 50 450 100 550 150 500 S 250 450 300 500 Q 350 550 400 500 T 500 500 L 600 520 A 50 50 0 0 1 650 500 Z"
        fill="none" stroke="#228B22" stroke-width="3" pathLength="1000"/>

</svg>
